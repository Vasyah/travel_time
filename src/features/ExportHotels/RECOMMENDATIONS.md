# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é ExportHotels

## üéØ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è (v1.0)

1. **Effector store –¥–ª—è —Å–≤–æ–±–æ–¥–Ω—ã—Ö –æ—Ç–µ–ª–µ–π** (`$freeHotelsData`)

    - –û—Ç–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –Ω–æ–º–µ—Ä–∞—Ö
    - Derived stores –¥–ª—è –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Å–±—Ä–æ—Å–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

    - `useMemo` –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
    - –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–π Map –¥–ª—è O(1) –ø–æ–∏—Å–∫–∞
    - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ

3. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ç–∏–ø HotelForRoom**

    - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è: `telegram_url`, `phone`, `address`
    - –£–ª—É—á—à–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º**
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ `$freeHotelsData`
    - –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–±—Ä–æ—Å–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª–µ–µ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ

#### 1.1 –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é (—É–±—Ä–∞—Ç—å `as any`)

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**

```typescript
{(hotel as any).telegram_url ? ... }
```

**–†–µ—à–µ–Ω–∏–µ:**

```typescript
// –í src/shared/api/hotel/hotel.ts
export type HotelForRoom = Pick<HotelDTO, 'id' | 'title' | 'telegram_url' | 'phone' | 'address'>;

// –£–∂–µ —Å–¥–µ–ª–∞–Ω–æ, –Ω–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ TypeScript —Å–µ—Ä–≤–µ—Ä–∞
```

**–î–µ–π—Å—Ç–≤–∏—è:**

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å TypeScript —Å–µ—Ä–≤–µ—Ä –≤ IDE
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –æ–±–Ω–æ–≤–∏–ª–∏—Å—å
3. –£–±—Ä–∞—Ç—å `as any` –∏–∑ ExportHotelsModal.tsx

#### 1.2 –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**

```typescript
// –í $hotelsFilter
freeHotels: Map<string, string[]>
freeHotels_id: string[]

// –í $freeHotelsData
FreeHotelsDTO[]
```

**–†–µ—à–µ–Ω–∏–µ:**

```typescript
// –í src/shared/models/hotels.ts - –£–î–ê–õ–ò–¢–¨ freeHotels –∏ freeHotels_id
export type TravelFilterType = Nullable<{
    type?: string;
    quantity?: number;
    start?: number;
    end?: number;
    hotels?: HotelForRoom[];
    roomFeatures?: string[];
    // –£–î–ê–õ–ò–¢–¨ —ç—Ç–∏ –ø–æ–ª—è:
    // freeHotels?: Map<string, string[]>;
    // freeHotels_id?: string[];
}>;

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ $freeHotelsData –∏ –µ–≥–æ derived stores
```

**–î–µ–π—Å—Ç–≤–∏—è:**

1. –£–¥–∞–ª–∏—Ç—å `freeHotels` –∏ `freeHotels_id` –∏–∑ `TravelFilterType`
2. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ `$freeHotelsMap` –∏ `$freeHotelIds`
3. –û–±–Ω–æ–≤–∏—Ç—å SearchForm

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í–∞–∂–Ω–æ

#### 2.1 –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

**–ö–æ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ:** > 100 –æ—Ç–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**

```typescript
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
npm install @tanstack/react-virtual

// –í ExportHotelsModal.tsx
import { useVirtualizer } from '@tanstack/react-virtual';

const parentRef = useRef<HTMLDivElement>(null);

const virtualizer = useVirtualizer({
    count: hotels.length,
    getScrollElement: () => parentRef.current,
    estimateSize: () => 60, // –≤—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫–∏
    overscan: 5,
});

// –†–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã—Ö —Å—Ç—Ä–æ–∫
{virtualizer.getVirtualItems().map(virtualRow => {
    const hotel = hotels[virtualRow.index];
    return <tr key={hotel.id} ...>...</tr>
})}
```

#### 2.2 –î–æ–±–∞–≤–∏—Ç—å persistence (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage)

**–ó–∞—á–µ–º:** –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–†–µ—à–µ–Ω–∏–µ:**

```typescript
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
npm install effector-storage

// –í src/shared/models/freeHotels.ts
import { persist } from 'effector-storage/local';

persist({
    store: $freeHotelsData,
    key: 'travel_time_free_hotels',
    serialize: JSON.stringify,
    deserialize: JSON.parse,
});
```

#### 2.3 –û–±—ä–µ–¥–∏–Ω–∏—Ç—å API –∑–∞–ø—Ä–æ—Å—ã

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**

```typescript
const { data: hotels } = useGetHotelsForRoom();  // –ó–∞–ø—Ä–æ—Å 1
const result = await getHotelsWithFreeRooms(...);  // –ó–∞–ø—Ä–æ—Å 2
```

**–†–µ—à–µ–Ω–∏–µ:**

```typescript
// –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π endpoint
// backend: /api/hotels/search
POST /api/hotels/search
{
    "filters": {
        "type": "–æ—Ç–µ–ª—å",
        "dateFrom": "...",
        "dateTo": "..."
    }
}

Response:
{
    "hotels": HotelDTO[],
    "availability": FreeHotelsDTO[],
    "metadata": {
        "total": 100,
        "freeCount": 45
    }
}

// Frontend
const useSearchHotels = (filters: TravelFilterType) => {
    return useQuery({
        queryKey: ['hotels', 'search', filters],
        queryFn: () => searchHotelsUnified(filters),
        enabled: !!filters,
    });
};
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ

#### 3.1 –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

```typescript
// –î–æ–±–∞–≤–∏—Ç—å –≤—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –≤ UI
type ExportFormat = 'plain' | 'detailed' | 'summary';

// –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
const [format, setFormat] = useState<ExportFormat>('plain');

const formattedText = useMemo(() => {
    switch (format) {
        case 'detailed':
            return formatWithDetails(hotels, freeHotelsData);
        case 'summary':
            return formatAvailabilitySummary(freeHotelsData);
        default:
            return formatHotelsWithAvailability(hotels, freeHotelsData);
    }
}, [format, hotels, freeHotelsData]);
```

#### 3.2 –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ

```typescript
// –í ExportHotelsModal
const [showOnlyAvailable, setShowOnlyAvailable] = useState(false);

const displayedHotels = useMemo(() => {
    if (!showOnlyAvailable) return hotels;

    return hotels.filter((hotel) => freeHotelsMap.has(hotel.id));
}, [hotels, showOnlyAvailable, freeHotelsMap]);
```

#### 3.3 –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É

```typescript
type SortBy = 'name' | 'availability' | 'none';
const [sortBy, setSortBy] = useState<SortBy>('none');

const sortedHotels = useMemo(() => {
    const sorted = [...hotels];

    switch (sortBy) {
        case 'name':
            return sorted.sort((a, b) => a.title.localeCompare(b.title));
        case 'availability':
            return sorted.sort((a, b) => {
                const aCount = freeHotelsMap.get(a.id)?.free_room_count || 0;
                const bCount = freeHotelsMap.get(b.id)?.free_room_count || 0;
                return bCount - aCount;
            });
        default:
            return sorted;
    }
}, [hotels, sortBy, freeHotelsMap]);
```

## üîß –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 1: –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (30 –º–∏–Ω—É—Ç)

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç—å TravelFilterType
# –§–∞–π–ª: src/shared/models/hotels.ts
# –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—è freeHotels –∏ freeHotels_id

# 2. –û–±–Ω–æ–≤–∏—Ç—å SearchForm
# –§–∞–π–ª: src/features/Search/ui/SearchForm.tsx
# –£–±—Ä–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ freeRoomData —Å Map
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ setFreeHotelsData(result)

# 3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ freeHotels
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å $freeHotelsMap –∏ $freeHotelIds
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é (1 —á–∞—Å)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
npm install @tanstack/react-virtual

# 2. –û–±–Ω–æ–≤–∏—Ç—å ExportHotelsModal
# –î–æ–±–∞–≤–∏—Ç—å useVirtualizer

# 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –±–æ–ª—å—à–∏–º —Å–ø–∏—Å–∫–æ–º
# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä –∏–∑ 1000+ –æ—Ç–µ–ª–µ–π
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å persistence (20 –º–∏–Ω—É—Ç)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
npm install effector-storage

# 2. –û–±–Ω–æ–≤–∏—Ç—å src/shared/models/freeHotels.ts
# –î–æ–±–∞–≤–∏—Ç—å persist()

# 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```

### –®–∞–≥ 4: –û–±—ä–µ–¥–∏–Ω–∏—Ç—å API –∑–∞–ø—Ä–æ—Å—ã (2-3 —á–∞—Å–∞)

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π endpoint –Ω–∞ backend
# POST /api/hotels/unified-search

# 2. –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ frontend
# src/shared/api/hotel/hotel.ts

# 3. –û–±–Ω–æ–≤–∏—Ç—å SearchForm
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π –∑–∞–ø—Ä–æ—Å

# 4. –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –∏ stores
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞            | –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ | –ü–æ—Å–ª–µ           | –£–ª—É—á—à–µ–Ω–∏–µ |
| ------------------ | -------------- | --------------- | --------- |
| Type safety        | 60% (as any)   | 100%            | +40%      |
| API –∑–∞–ø—Ä–æ—Å—ã        | 2              | 1               | -50%      |
| Memory             | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ   | –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è    | -30%      |
| –ü–æ–∏—Å–∫ –æ—Ç–µ–ª—è        | O(n)           | O(1)            | ~10-100x  |
| –†–µ–Ω–¥–µ—Ä 1000 –æ—Ç–µ–ª–µ–π | 2-5—Å–µ–∫         | <0.5—Å–µ–∫         | ~5-10x    |
| Bundle size        | –ë–∞–∑–æ–≤—ã–π        | +15Kb (virtual) | +15Kb     |

## üö¶ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è

### –î–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–° (–í—ã—Å–æ–∫–∏–π ROI, –Ω–∏–∑–∫–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã)

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–ø—ã (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å useMemo (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å $freeHotelsData store (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)
4. ‚è≥ –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ $hotelsFilter
5. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å persistence

### –î–µ–ª–∞—Ç—å –ü–û–¢–û–ú (–°—Ä–µ–¥–Ω–∏–π ROI, —Å—Ä–µ–¥–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã)

6. –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é
7. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å API –∑–∞–ø—Ä–æ—Å—ã
8. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É

### –î–µ–ª–∞—Ç—å –ü–†–ò –ù–ï–û–ë–•–û–î–ò–ú–û–°–¢–ò (–ù–∏–∑–∫–∏–π ROI, –≤—ã—Å–æ–∫–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã)

9. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ GraphQL
10. Worker threads –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
11. Server-side —ç–∫—Å–ø–æ—Ä—Ç –≤ PDF/Excel

## üíº –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- –í—Ä–µ–º—è —ç–∫—Å–ø–æ—Ä—Ç–∞ 100 –æ—Ç–µ–ª–µ–π: ~200ms
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ~95%
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤: 90%

### –ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- –í—Ä–µ–º—è —ç–∫—Å–ø–æ—Ä—Ç–∞ 100 –æ—Ç–µ–ª–µ–π: ~50ms ‚¨áÔ∏è 75%
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ~98% ‚¨ÜÔ∏è 3%
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤: 95% ‚¨ÜÔ∏è 5%
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 1000+ –æ—Ç–µ–ª–µ–π: ‚úÖ (—Å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–µ–π)

## üìù –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è review

- [x] –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π store `$freeHotelsData`
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã derived stores –¥–ª—è –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–µ–º–æ–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [x] –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–π Map –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- [ ] –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ `$hotelsFilter`
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ `as any`
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–ø–∏—Å–∫–æ–≤
- [ ] –î–æ–±–∞–≤–ª–µ–Ω persistence
- [ ] –û–±—ä–µ–¥–∏–Ω–µ–Ω—ã API –∑–∞–ø—Ä–æ—Å—ã
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- [ ] –ù–∞–ø–∏—Å–∞–Ω—ã —Ç–µ—Å—Ç—ã

## üéì –í—ã–≤–æ–¥—ã

### –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å —Ö–æ—Ä–æ—à–æ:

‚úÖ –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π store –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –Ω–æ–º–µ—Ä–∞—Ö
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å useMemo –∏ Map
‚úÖ –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚úÖ –£–¥–æ–±–Ω—ã–π UX —Å –∞–≤—Ç–æ–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### –ß—Ç–æ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:

‚ö†Ô∏è –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É stores
‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `as any`
‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
‚ö†Ô∏è –û–±—ä–µ–¥–∏–Ω–∏—Ç—å API –∑–∞–ø—Ä–æ—Å—ã

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:

1. **–ù–µ–¥–µ–ª—è 1:** –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–ø—ã
2. **–ù–µ–¥–µ–ª—è 2:** –î–æ–±–∞–≤–∏—Ç—å persistence –∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é
3. **–ù–µ–¥–µ–ª—è 3:** –û–±—ä–µ–¥–∏–Ω–∏—Ç—å API, –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É
4. **–ù–µ–¥–µ–ª—è 4:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞

---

**–ò—Ç–æ–≥:** –§–∏—á–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ—ç—Ç–∞–ø–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ.
